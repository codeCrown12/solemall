<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Product</title>
  <link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/taylor-sans" type="text/css"/>                     
  <link href="http://fonts.cdnfonts.com/css/dekobrett" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="{{url_for('static',filename='dashboardcss/styles.css')}}">
  <link rel="stylesheet" href="{{url_for('static',filename='dashboardcss/addproduct.css')}}">
</head>
<body>
  <nav class="navbar">
    <a href="#" class="navbar-brand"><h2 style="font-family: 'DekoBrett', sans-serif;">SOLEMALL</h2></a>
    <div class="collapsible">
      <ul class="navbar-items">
        <li class="nav-item">
          <a href="#"><strong>Balance:</strong> ${{profit[0]}}üëë</a>
        </li>
      </ul>
      <button class="btn-bars"><i class="fas fa-bars"></i></button>
    </div>
  </nav>
  <div class="container">
    <div class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div>
          <h2 style="font-family: 'DekoBrett', sans-serif;">SOLEMALL</h2>
          <p style="font-style: italic;">Shoes that fit...</p>
        </div>
      </div>
      <div class="underline"></div>
      <div class="sidebar-content">
        <ul class="sidebar-items">
          <li class="sidebar-item"><a href="/home"><i class="fas fa-chart-line"></i>&nbsp; Overview</a></li>
          <li class="sidebar-item active"><a href="/addproduct"><i class="fas fa-tshirt"></i>&nbsp; Add product</a></li>
          <li class="sidebar-item"><a href="/manageproduct"><i class="fas fa-dice-d20"></i>&nbsp; Manage products</a></li>
          <li class="sidebar-item"><a href="/manageusers"><i class="fas fa-user"></i>&nbsp; Manage users</a></li>
          <li class="sidebar-item"><a href="/sendemail"><i class="fas fa-paper-plane"></i>&nbsp; Send emails</a></li>
          <li class="sidebar-item"><a href="/adminlogout"><i class="fas fa-power-off"></i>&nbsp; Logout</a></li>
        </ul>
      </div>
    </div>
    <div class="main-content" id="main-content">
      <h2><i class="fas fa-tshirt"></i> ADD PRODUCT</h2>
      <div class="main-body-content">
        <div class="add-product">
          <form method="POST" enctype="multipart/form-data">
            <div class="form-container">
              <div class="form-group">
                <h3 style="margin-bottom: 14px;">Product Details</h3>
                <p style="color: red; margin-bottom: 10px;">{{errmsg}}</p>
                <p style="color: #02b902; margin-bottom: 10px;">{{sumsg}}</p>
                <input name="imgurl" type="file" id="img-select" style="margin-bottom: 10px;">
                <select name="category" id="" class="form-control">
                  <option value="">-- Select category --</option>
                  {% for cat in categories %}
                  {% for i in cat %}
                    <option value={{i}}>{{i}}</option>
                  {% endfor %}
                  {% endfor %}
                </select>
                <input name="name" type="text" class="form-control" placeholder="Product name">
                <input name="price" type="number" class="form-control" placeholder="Product price">
                <input name="qty" type="number" class="form-control" placeholder="Product quantity">
                <input name="sizes" type="text" class="form-control" placeholder="Product sizes">
                <input name="colors" type="text" class="form-control" placeholder="Product Colors">
                <textarea name="desc" class="form-control" placeholder="Product description..." id="" rows="6"></textarea>
                <button class="btn-default" name="upload" type="submit">Upload product</button>
              </div>
              <div class="product-img">
                <p style="margin-bottom: 10px;">Product image preview</p>
                <img class="p-img" id="img-prev" src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=870&q=80" alt="">
              </div>
            </div>
          </form>
        </div>
      </div>
      <footer>
        <div style="text-align: center;">
          <p>Made by üëë codecrown with ‚ù§Ô∏è</p>
        <p>&copy; 2021</p>
        </div>
      </footer>
    </div>
  </div>
  <script src="scripts/script.js"></script>
  <script>
    //code to select and preview image
    const imgselector = document.querySelector("#img-select")
    const imgpreview = document.querySelector("#img-prev")
    imgselector.addEventListener('change', function(){
            getImgData()
    })
    function getImgData() {
            const files = imgselector.files[0];
            if (files) {
                const fileReader = new FileReader();
                fileReader.readAsDataURL(files);
                fileReader.addEventListener("load",  function () {
                    imgpreview.setAttribute('src', this.result)
                });    
            }
    }
  </script>
</body>
</html>